{% set section_type = 'issues' if ns.issues else 'commits' if ns.commits else 'discussions' if ns.discussions else 'other' %}
{% set sources = ns.issues if ns.issues else ns.commits if ns.commits else ns.discussions if ns.discussions else ns.other %}
{% set title = 'Issues' if ns.issues else 'Commits' if ns.commits else 'Discussions' if ns.discussions else 'Other Sources' %}

<div class="accordion-item bg-transparent border-light border-opacity-10 mb-2">
    <h2 class="accordion-header">
        <button class="accordion-button collapsed text-light" type="button" data-bs-toggle="collapse" data-bs-target="#{{ section_type }}Collapse">
            {{ title }} ({{ sources|length }})
        </button>
    </h2>
    <div id="{{ section_type }}Collapse" class="accordion-collapse collapse" data-bs-parent="#sourcesAccordion">
        <div class="accordion-body">
            {% for source in sources %}
                <div class="source-item mb-2">
                    <a href="{{ source.url }}" target="_blank" class="text-info text-decoration-none d-flex align-items-center">
                        <span>{{ source.title }}</span>
                        <span class="ms-2 badge bg-secondary">{{ source.repository }}</span>
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
</div>